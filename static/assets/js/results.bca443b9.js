(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["results"],{a15b:function(e,t,n){"use strict";var d=n("23e7"),a=n("44ad"),i=n("fc6a"),s=n("a640"),r=[].join,l=a!=Object,o=s("join",",");d({target:"Array",proto:!0,forced:l||!o},{join:function(e){return r.call(i(this),void 0===e?",":e)}})},e010:function(e,t,n){"use strict";n.r(t);var d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("md-snackbar",{attrs:{"md-active":e.showLoading},on:{"update:mdActive":function(t){e.showLoading=t},"update:md-active":function(t){e.showLoading=t}}},[e._v(" "+e._s(e.loadingMessage)+" ")]),n("md-card",{staticClass:"md-elevation-5"},[n("md-card-content",{directives:[{name:"show",rawName:"v-show",value:!e.result,expression:"!result"}]},[n("div",{attrs:{id:"group-table"}})])],1),e.result?n("md-card",{staticClass:"md-elevation-5"},[n("md-card-header",[n("md-toolbar",{staticClass:"md-dense"},[n("div",{staticClass:"md-title"},[e._v(e._s(e.result.test))])])],1),e.markingBoard?e._e():n("md-card-content",[n("md-table",[n("md-table-row",[n("md-table-head",[e._v("name: ")]),n("md-table-cell",[e._v(e._s(e.result.name))])],1),n("md-table-row",[n("md-table-head",[e._v("Username")]),n("md-table-cell",[e._v(e._s(e.result.username))])],1),n("md-table-row",[n("md-table-head",[e._v("Test Title")]),n("md-table-cell",[e._v(e._s(e.result.test))])],1),n("md-table-row",[n("md-table-head",[e._v("Group")]),n("md-table-cell",[e._v(e._s(e.result.group))])],1),n("md-table-row",[n("md-table-head",[e._v("Time Finished: ")]),n("md-table-cell",[e._v(e._s(e.result.time_elapsed))])],1),n("md-table-row",[n("md-table-head",[e._v("Started")]),n("md-table-cell",[e._v(e._s(e.result.started))])],1),n("md-table-row",[n("md-table-head",[e._v("Submitted")]),n("md-table-cell",[e._v(e._s(e.result.submitted))])],1),n("md-table-row",[n("md-table-head",[e._v("Status")]),n("md-table-cell",[e._v(e._s(e.result.status))])],1),n("md-table-row",[n("md-table-head",[e._v("Correct Answers")]),n("md-table-cell",[e._v(e._s(e.result.correct))])],1),n("md-table-row",[n("md-table-head",[e._v("Incorrect Answers")]),n("md-table-cell",[e._v(e._s(e.result.incorrect))])],1),n("md-table-row",[n("md-table-head",[e._v("Score")]),n("md-table-cell",[e._v(e._s(e.result.score))])],1),n("md-table-row",[n("md-table-head",[e._v("Grade")]),n("md-table-cell",[e._v(e._s(e.result.grade))])],1)],1)],1),e.markingBoard&&e.pendding?n("md-card-content",[n("div",{staticClass:"md-layout md-size-100"},[n("div",{staticClass:"cursor md-layout-item md-size-10 md-layout md-alignment-center-center",on:{click:function(t){return e.prevPendding()}}},[n("iconify-icon",{staticClass:"iconify",attrs:{icon:"arrow-left-thick",width:"26",align:"right",height:"26"}})],1),n("div",{staticClass:"md-layout-item md-size-75"},[n("div",{staticClass:"md-caption"},[e._v(e._s(e.penddingIndex+1)+"/"+e._s(e.pendding.length))]),n("div",{staticClass:"md-subheading",staticStyle:{"margin-top":"2em"}},[e._v(" "+e._s(e.penddingIndex+1)+". "+e._s(e.pendding[e.penddingIndex].question)+" ")]),"FILL"==e.pendding[e.penddingIndex].answer_type?n("md-field",[n("label",[e._v("Answer")]),n("md-textarea",{attrs:{"md-autogrow":"",disabled:""},model:{value:e.pendding[e.penddingIndex].answer.answer,callback:function(t){e.$set(e.pendding[e.penddingIndex].answer,"answer",t)},expression:"pendding[penddingIndex].answer.answer"}})],1):e._e(),e.pendding[e.penddingIndex].mark_scheme?n("md-field",[n("label",[e._v("Mark scheme")]),n("md-textarea",{attrs:{"md-autogrow":"",disabled:""},model:{value:e.pendding[e.penddingIndex].mark_scheme,callback:function(t){e.$set(e.pendding[e.penddingIndex],"mark_scheme",t)},expression:"pendding[penddingIndex].mark_scheme"}})],1):e._e(),"FILE"==e.pendding[e.penddingIndex].answer_type?n("div",["IMAGE"==e.pendding[e.penddingIndex].file_type?n("div",[n("img",{staticStyle:{width:"100%",margin:"0 auto 0 auto"},attrs:{src:e.pendding[e.penddingIndex].answer.file}})]):e._e(),n("span",{staticStyle:{"text-align":"center"}},[n("a",{attrs:{href:e.pendding[e.penddingIndex].answer.file}},[e._v(" Download "+e._s(e.pendding[e.penddingIndex].answer.name)+" ")])])]):e._e(),n("div",{staticClass:"md-layout md-alignment-center-center"},[n("md-button",{staticClass:"md-raised md-dense md-accent",on:{click:function(t){e.pendding[e.penddingIndex].score=e.pendding[e.penddingIndex].total_points}}},[e._v("Correct")]),n("md-button",{staticClass:"md-raised md-dense md-accent",on:{click:function(t){e.pendding[e.penddingIndex].score=0}}},[e._v("Incorrect")]),n("md-field",{staticClass:"md-layout-item md-size-20"},[n("label",{attrs:{for:"mark-score"}},[e._v("Mark score")]),n("md-select",{attrs:{"md-dense":""},model:{value:e.pendding[e.penddingIndex].score,callback:function(t){e.$set(e.pendding[e.penddingIndex],"score",t)},expression:"pendding[penddingIndex].score"}},e._l(e.questionScores(e.pendding[e.penddingIndex]),(function(t,d){return n("md-option",{key:d,attrs:{value:t}},[e._v(e._s(t))])})),1)],1)],1)],1),n("div",{staticClass:"cursor md-layout-item md-size-10 md-layout md-alignment-center-center",on:{click:function(t){return e.nextPendding()}}},[n("iconify-icon",{staticClass:"iconify",attrs:{icon:"arrow-right-thick",width:"26",align:"right",height:"26"}})],1)])]):e._e(),n("md-card-actions",[e.markingBoard&&"Pending"==e.result.status?n("md-button",{staticClass:"md-raised md-accent",attrs:{disabled:e.disableSubmit},on:{click:function(t){return e.markTest()}}},[e._v("Submit")]):e._e(),e.markingBoard||"Pending"!=e.result.status?e._e():n("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){return e.getPendding()}}},[e._v("Mark answers")]),e.markingBoard?n("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){e.markingBoard=!1}}},[e._v("Back")]):e._e(),e.markingBoard?e._e():n("md-button",{staticClass:"md-raised md-accent",on:{click:function(t){return e.closeResult()}}},[e._v("Back")])],1)],1):e._e()],1)},a=[],i=(n("4de4"),n("4160"),n("a15b"),n("d3b7"),n("159b"),n("5530")),s=n("2f62"),r=function(){return n.e("tabulator").then(n.bind(null,"e325"))},l={data:function(){return{pageData:{pageTitle:"Test Results",showAppDrawer:!1},resultTable:null,results:[],result:null,row:null,questions:[],markingBoard:!1,pendding:null,penddingIndex:0,loadingMessage:"Loading ...",showLoading:!1,disableSubmit:!1,Tabulator:null}},props:["group_id","test_id"],methods:{closeResult:function(){this.row.update(this.result),this.result=null},questionScores:function(e){for(var t=[],n=0;n<=e.total_points;n++)t.push(n);return t},prevPendding:function(){this.penddingIndex-1>=0&&(this.penddingIndex-=1)},nextPendding:function(){this.penddingIndex+1<this.pendding.length&&(this.penddingIndex+=1)},getResults:function(){var e=this;this.$http({url:"testapi/1/result/",method:"GET"}).then((function(t){e.results=t.data,e.test_id&&(e.results=e.results.filter((function(t){return t.test_id==e.test_id}))),e.setupTabulator()})).catch((function(t){e.loadingMessage="No Result found",e.showLoading=!0}))},getGroupResults:function(){var e=this;this.$http({url:"testapi/1/result/group/"+this.group_id+"/",method:"GET"}).then((function(t){e.results=t.data,e.setupTabulator()})).catch((function(t){e.loadingMessage="No group result found",e.showLoading=!0}))},offlineTestPendding:function(){this.pendding=[{id:5,question:"what is your name",score:0,total_points:7,mark_scheme:"are you okey",file_type:"IMAGE",answer_type:"FILL",answer:{answer:"hello how are you doing",name:"ball.jpg",file:"assets/img/card-image-3.jpg"}},{id:5,question:"not gfh is your name",score:0,total_points:7,mark_scheme:"hfiv hyare you okey",file_type:"IMAGE",answer_type:"FILL",answer:{answer:"hfhfhg you doing",name:"ball.jpg",file:"assets/img/card-image-3.jpg"}}],this.markingBoard=!0},getPendding:function(){var e=this,t={resultId:this.result.id};this.$http({url:"testapi/1/penddingtest/",data:t,method:"POST"}).then((function(t){e.pendding=t.data,e.markingBoard=!0})).catch((function(t){e.loadingMessage="No pendding test found",e.showLoading=!0}))},markTest:function(){var e=this;this.disableSubmit=!0;var t={resultId:this.result.id,answers:{}};this.pendding.forEach((function(e){t.answers[e.id]=e.score})),this.$http({url:"testapi/1/marktest/",data:t,method:"POST"}).then((function(t){e.disableSubmit=!1,e.result=t.data,e.loadingMessage="Saved.","Pendding"!=e.result.status&&(e.loadingMessage="Assessment completed and Saved"),e.showLoading=!0})).catch((function(t){var n;for(var d in e.disableSubmit=!1,t.response.data)n+=d+": "+t.response.data[d].join("\n");e.loadingMessage=n}))},offlineTestResults:function(){for(var e={id:33,test:"csc 210 test - introduction to data structure",group:"csc 210",username:"u17/fnc/csc/1077",name:"absulnazif abdulkadir",time_elapsed:"1:58",started:"2020-12-16 - 12:00",submitted:"2020-12-16 - 13:58",status:"Pending",correct:0,incorrect:1,score:"---",grade:"---"},t=0;t<10;t++)this.results.push(e);this.setupTabulator()},openResult:function(e){this.row=e,this.result=e.getData()},setupTabulator:function(){if(this.Tabulator&&null===this.resultTable){var e=[{field:"rowSelection",formatter:"rowSelection",visible:!1,titleFormatter:"rowSelection",hozAlign:"center",headerSort:!1},{field:"SNo.",formatter:"rownum",title:"SNo."},{title:"Name",field:"name"},{title:"Username",field:"username"},{title:"Test Title",field:"test",width:200},{title:"Group",field:"group"},{title:"Finish time",field:"time_elapsed"},{title:"Submitted",field:"submitted"},{title:"Status",field:"status"},{title:"Score",field:"score"},{title:"Grade",field:"grade"}];this.resultTable=new this.Tabulator("#group-table",{data:this.results,layout:"fitDataFill",reactiveData:!0,columns:e,selectableRollingSelection:!1,selectablePersistence:!1,addRowPos:"bottom",pagination:"local",paginationSize:10,paginationSizeSelector:[10,50,100],paginationAddRow:"table",rowClick:function(e,t){t.toggleSelect(),this.openResult(t)}.bind(this),rowMouseEnter:function(e){e.target.style.cursor="pointer"}.bind(this),selectableCheck:function(){return this.selectable}.bind(this),cellEdited:function(e){this.updateGroup(e)}.bind(this),tooltips:function(e){if("test"==e.getColumn().getField())return e.getValue()}})}}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["getPageTitle"])),Object(s["b"])(["userDetail"])),Object(s["b"])(["pageTitle"])),mounted:function(){var e=this;r().then((function(t){var n=t.default;e.Tabulator=n,e.group_id?e.getGroupResults():e.getResults()})),this.$store.commit("setPageData",this.pageData)}},o=l,c=n("2877"),u=Object(c["a"])(o,d,a,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=results.bca443b9.js.map