(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["signup"],{"14c3":function(e,t,s){var a=s("c6b6"),r=s("9263");e.exports=function(e,t){var s=e.exec;if("function"===typeof s){var i=s.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},5319:function(e,t,s){"use strict";var a=s("d784"),r=s("825a"),i=s("7b0b"),n=s("50c4"),o=s("a691"),d=s("1d80"),l=s("8aa5"),c=s("14c3"),u=Math.max,m=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};a("replace",2,(function(e,t,s,a){var g=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_=a.REPLACE_KEEPS_$0,b=g?"$":"$0";return[function(s,a){var r=d(this),i=void 0==s?void 0:s[e];return void 0!==i?i.call(s,r,a):t.call(String(r),s,a)},function(e,a){if(!g&&_||"string"===typeof a&&-1===a.indexOf(b)){var i=s(t,e,this,a);if(i.done)return i.value}var d=r(e),f=String(this),p="function"===typeof a;p||(a=String(a));var h=d.global;if(h){var x=d.unicode;d.lastIndex=0}var w=[];while(1){var I=c(d,f);if(null===I)break;if(w.push(I),!h)break;var C=String(I[0]);""===C&&(d.lastIndex=l(f,n(d.lastIndex),x))}for(var E="",S=0,$=0;$<w.length;$++){I=w[$];for(var k=String(I[0]),N=u(m(o(I.index),f.length),0),L=[],q=1;q<I.length;q++)L.push(v(I[q]));var A=I.groups;if(p){var P=[k].concat(L,N,f);void 0!==A&&P.push(A);var R=String(a.apply(void 0,P))}else R=y(k,f,N,L,A,a);N>=S&&(E+=f.slice(S,N)+R,S=N+k.length)}return E+f.slice(S)}];function y(e,s,a,r,n,o){var d=a+e.length,l=r.length,c=h;return void 0!==n&&(n=i(n),c=p),t.call(o,c,(function(t,i){var o;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return s.slice(0,a);case"'":return s.slice(d);case"<":o=n[i.slice(1,-1)];break;default:var c=+i;if(0===c)return t;if(c>l){var u=f(c/10);return 0===u?t:u<=l?void 0===r[u-1]?i.charAt(1):r[u-1]+i.charAt(1):t}o=r[c-1]}return void 0===o?"":o}))}}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,s){var a=s("1d80"),r=s("5899"),i="["+r+"]",n=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),d=function(e){return function(t){var s=String(a(t));return 1&e&&(s=s.replace(n,"")),2&e&&(s=s.replace(o,"")),s}};e.exports={start:d(1),end:d(2),trim:d(3)}},"62c4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("vue-form",{staticClass:"md-layout",attrs:{state:e.formstate},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("md-card",{staticClass:"md-layout-item md-size-50 md-small-size-100"},[s("md-card-header",[s("div",{staticClass:"md-display-1"},[e._v("Signup")])]),s("md-card-content",[e.error.non_field_errors?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.non_field_errors.join(", ")))]):e._e(),e.error.username?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.username.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.username),attrs:{tag:"md-field"}},[s("label",{attrs:{for:"first-name"}},[e._v("User Name ")]),s("md-input",{attrs:{name:"user-name",id:"user-name",autocomplete:"off",disabled:e.sending,required:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The user name is required")]),s("div",{attrs:{slot:"maxlength"},slot:"maxlength"},[e._v("Invalid user name")])])],1),s("div",{staticClass:"md-layout md-gutter"},[s("div",{staticClass:"md-layout-item md-small-size-100"},[e.error.first_name?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.first_name.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.first_name),attrs:{tag:"md-field",custom:{maxInputLength:e.maxInputLength,minInputLength:e.minInputLength}}},[s("label",{attrs:{for:"first-name"}},[e._v("First Name ")]),s("md-input",{attrs:{name:"first-name",id:"first_name",autocomplete:"off",disabled:e.sending,required:""},model:{value:e.form.first_name,callback:function(t){e.$set(e.form,"first_name",t)},expression:"form.first_name"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The first name is required")]),s("div",{attrs:{slot:"maxlength"},slot:"maxlength"},[e._v("Invalid first name")]),s("div",{attrs:{slot:"maxInputLength"},slot:"maxInputLength"},[e._v("Invalid first name, maximum length reached")]),s("div",{attrs:{slot:"minInputLength"},slot:"minInputLength"},[e._v("Invalid first name, minimum of at least 3 character")])])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100"},[e.error.last_name?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.last_name.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.last_name),attrs:{tag:"md-field",custom:{maxInputLength:e.maxInputLength,minInputLength:e.minInputLength}}},[s("label",{attrs:{for:"last-name"}},[e._v("Last Name ")]),s("md-input",{attrs:{name:"last-name",id:"last_name",autocomplete:"off",disabled:e.sending,required:""},model:{value:e.form.last_name,callback:function(t){e.$set(e.form,"last_name",t)},expression:"form.last_name"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The first name is required")]),s("div",{attrs:{slot:"maxInputLength"},slot:"maxInputLength"},[e._v("Invalid last name, maximum length reached")]),s("div",{attrs:{slot:"minInputLength"},slot:"minInputLength"},[e._v("Invalid last name, minimum of at least 3 character")])])],1)],1)]),s("div",{staticClass:"md-layout md-gutter"},[s("div",{staticClass:"md-layout-item md-small-size-100"},[e.error.password1?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.password1.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.password1),attrs:{tag:"md-field",custom:{validatePassword:e.validatePassword}}},[s("label",{attrs:{for:"enter-password"}},[e._v("Password")]),s("md-input",{attrs:{type:"password",name:"password1",id:"password1",autocomplete:"new-password",disabled:e.sending,required:""},model:{value:e.form.password1,callback:function(t){e.$set(e.form,"password1",t)},expression:"form.password1"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The password is required")]),s("div",{attrs:{slot:"validatePassword"},slot:"validatePassword"},[e._v("Password should be aleast 8 characters")])])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100"},[e.error.password2?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.password2.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.password2),attrs:{tag:"md-field",custom:{matchPassword:e.matchPassword}}},[s("label",{attrs:{for:"re-enter-password"}},[e._v("Re-enter Password")]),s("md-input",{attrs:{type:"password",name:"password2",id:"password2",autocomplete:"new-password",disabled:e.sending,required:""},model:{value:e.form.password2,callback:function(t){e.$set(e.form,"password2",t)},expression:"form.password2"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("please re-enter password")]),s("div",{attrs:{slot:"matchPassword"},slot:"matchPassword"},[e._v("password does not match")])])],1)],1)]),s("div",{staticClass:"md-layout md-gutter"},[s("div",{staticClass:"md-layout-item md-small-size-100"},[e.error.email?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.email.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.email),attrs:{tag:"md-field"}},[s("label",{attrs:{for:"email"}},[e._v("Email")]),s("md-input",{attrs:{type:"email",name:"email",id:"email",autocomplete:"off",disabled:e.sending,required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The email is required")]),s("div",{attrs:{slot:"email"},slot:"email"},[e._v("Invalid email address")])])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100"},[e.error.phone_number?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.phone_number.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.phone_number),attrs:{tag:"md-field",custom:{validatephoneNo:e.validatephoneNo}}},[s("label",{attrs:{for:"phone-number"}},[e._v("Phone Number")]),s("md-input",{attrs:{type:"text",name:"phone_number",id:"phone-number",autocomplete:"off",disabled:e.sending},model:{value:e.form.phone_number,callback:function(t){e.$set(e.form,"phone_number",t)},expression:"form.phone_number"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"validatephoneNo"},slot:"validatephoneNo"},[e._v("Invalid phone number")])])],1)],1)]),e.error.date_of_birth?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.date_of_birth.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.date_of_birth),attrs:{tag:"md-field"}},[s("md-datepicker",{attrs:{name:"birth",id:"birth"},model:{value:e.form.date_of_birth,callback:function(t){e.$set(e.form,"date_of_birth",t)},expression:"form.date_of_birth"}},[s("label",{attrs:{for:"select-birth-date"}},[e._v("Date of birth")])]),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}})],1),e.error.gender?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.gender.join(", ")))]):e._e(),s("validate",{class:e.fieldClassName(e.formstate.gender),attrs:{tag:"md-field"}},[s("label",{attrs:{for:"gender"}},[e._v("Gender")]),s("md-select",{attrs:{name:"gender",id:"gender","md-dense":"",disabled:e.sending},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[s("md-option"),s("md-option",{attrs:{value:"M"}},[e._v("Male")]),s("md-option",{attrs:{value:"F"}},[e._v("Female")])],1),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The gender is required")])])],1),e.error.group?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.group.join(", ")))]):e._e(),e.error.access_key?s("div",{staticClass:"md-body-1",staticStyle:{color:"red"}},[e._v(e._s(e.error.access_key.join(", ")))]):e._e(),e.group&&e.group.requires_access_key&&!e.group.is_author?s("div",[s("div",{staticClass:"md-subheading"},[e._v("Enter "+e._s(e.group.name)+" access Key")]),s("validate",{class:e.fieldClassName(e.formstate.access_key),attrs:{tag:"md-field"}},[s("label",{attrs:{for:"access key"}},[e._v("access key")]),s("md-input",{attrs:{name:"access_key",id:"access_key",autocomplete:"new-password","md-dense":"",disabled:e.sending},model:{value:e.access_key,callback:function(t){e.access_key=t},expression:"access_key"}}),s("field-messages",{staticClass:"md-error",staticStyle:{opacity:"1.0"},attrs:{show:"$touched || $submitted"}},[s("div",{attrs:{slot:"required"},slot:"required"},[e._v("The group access key required")])])],1)],1):e._e()],1),e.sending?s("md-progress-bar",{attrs:{"md-mode":"indeterminate"}}):e._e(),s("md-card-actions",[s("md-button",{staticClass:"md-accent md-raised",attrs:{type:"submit",disabled:e.sending}},[e._v("Register")])],1)],1),s("md-snackbar",{attrs:{"md-active":e.showSnackBar},on:{"update:mdActive":function(t){e.showSnackBar=t},"update:md-active":function(t){e.showSnackBar=t}}},[e._v(e._s(e.snackMessage))])],1)],1)},r=[],i=(s("a9e3"),s("ac1f"),s("5319"),s("5530")),n=s("2f62"),o={data:function(){return{pageData:{pageTitle:"Signup"},signupMessage:"",snackMessage:"",formstate:{},form:{username:"",first_name:"",last_name:"",password1:"",password2:"",email:"",phone_number:"",date_of_birth:"",gender:""},error:{},access_key:"",group:null,showSnackBar:!1,sending:!1,maxInputLen:100,minInputLen:3,passLen:8}},props:["group_id"],methods:{clearForm:function(){this.form.username="",this.form.first_name="",this.form.last_name="",this.form.password1="",this.form.password2="",this.form.email="",this.form.phone_number="",this.form.gender="",this.form.date_of_birth="",this.access_key=""},maxInputLength:function(e){return e.length<=this.maxInputLen},minInputLength:function(e){return e.length>=this.minInputLen},validatePassword:function(e){return e.length>=this.passLen},matchPassword:function(e){return e===this.form.password1},validatephoneNo:function(e){return 0==e.length||11===e.length&&"number"===typeof Number(e)},signup:function(){var e=this;this.error={},this.group_id&&(this.form.group=this.group_id),this.group&&this.group.requires_access_key&&(this.form.access_key=this.access_key),this.$store.dispatch("register",this.form).then((function(){var t=e.form.username,s=e.form.password1;e.clearForm(),e.formstate._reset(),e.sending=!1,e.snackMessage="Registration was successful. Logging in...",e.showSnackBar=!0,e.isLoggedIn?e.$router.go(-1):e.$store.dispatch("login",{username:t,password:s}).then((function(){e.$router.replace("/dashboard")})).catch((function(t){e.snackMessage="Failed to Loggin. Try logging in again.",e.showSnackBar=!0,e.$router.replace("/login")}))})).catch((function(t){e.sending=!1,e.snackMessage="Incorrect or missing required field",e.showSnackBar=!0,e.error=t.response.data}))},onSubmit:function(){this.formstate.$invalid||(this.sending=!0,this.signup())},checkAccess:function(){var e=this;this.$http({url:"testapi/1/group_access/"+this.group_id+"/",method:"GET"}).then((function(t){e.group=t.data})).catch((function(t){e.error=t.response.data}))},fieldClassName:function(e){return e?(e.$touched||e.$submitted)&&e.$valid?"has-success":(e.$touched||e.$submitted)&&e.$invalid?"has-danger":void 0:""}},computed:Object(i["a"])(Object(i["a"])({},Object(n["b"])(["isLoggedIn"])),Object(n["b"])(["getPageTitle"])),mounted:function(){this.$store.commit("setPageData",this.pageData),this.group_id&&this.checkAccess()}},d=o,l=s("2877"),c=Object(l["a"])(d,a,r,!1,null,null,null);t["default"]=c.exports},6547:function(e,t,s){var a=s("a691"),r=s("1d80"),i=function(e){return function(t,s){var i,n,o=String(r(t)),d=a(s),l=o.length;return d<0||d>=l?e?"":void 0:(i=o.charCodeAt(d),i<55296||i>56319||d+1===l||(n=o.charCodeAt(d+1))<56320||n>57343?e?o.charAt(d):i:e?o.slice(d,d+2):n-56320+(i-55296<<10)+65536)}};e.exports={codeAt:i(!1),charAt:i(!0)}},7156:function(e,t,s){var a=s("861d"),r=s("d2bb");e.exports=function(e,t,s){var i,n;return r&&"function"==typeof(i=t.constructor)&&i!==s&&a(n=i.prototype)&&n!==s.prototype&&r(e,n),e}},"8aa5":function(e,t,s){"use strict";var a=s("6547").charAt;e.exports=function(e,t,s){return t+(s?a(e,t).length:1)}},9263:function(e,t,s){"use strict";var a=s("ad6d"),r=s("9f7f"),i=RegExp.prototype.exec,n=String.prototype.replace,o=i,d=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],u=d||c||l;u&&(o=function(e){var t,s,r,o,u=this,m=l&&u.sticky,f=a.call(u),p=u.source,h=0,v=e;return m&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,h++),s=new RegExp("^(?:"+p+")",f)),c&&(s=new RegExp("^"+p+"$(?!\\s)",f)),d&&(t=u.lastIndex),r=i.call(m?s:u,v),m?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=u.lastIndex,u.lastIndex+=r[0].length):u.lastIndex=0:d&&r&&(u.lastIndex=u.global?r.index+r[0].length:t),c&&r&&r.length>1&&n.call(r[0],s,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=o},"9f7f":function(e,t,s){"use strict";var a=s("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a9e3:function(e,t,s){"use strict";var a=s("83ab"),r=s("da84"),i=s("94ca"),n=s("6eeb"),o=s("5135"),d=s("c6b6"),l=s("7156"),c=s("c04e"),u=s("d039"),m=s("7c73"),f=s("241c").f,p=s("06cf").f,h=s("9bf2").f,v=s("58a8").trim,g="Number",_=r[g],b=_.prototype,y=d(m(b))==g,x=function(e){var t,s,a,r,i,n,o,d,l=c(e,!1);if("string"==typeof l&&l.length>2)if(l=v(l),t=l.charCodeAt(0),43===t||45===t){if(s=l.charCodeAt(2),88===s||120===s)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+l}for(i=l.slice(2),n=i.length,o=0;o<n;o++)if(d=i.charCodeAt(o),d<48||d>r)return NaN;return parseInt(i,a)}return+l};if(i(g,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var w,I=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof I&&(y?u((function(){b.valueOf.call(s)})):d(s)!=g)?l(new _(x(t)),s,I):x(t)},C=a?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;C.length>E;E++)o(_,w=C[E])&&!o(I,w)&&h(I,w,p(_,w));I.prototype=b,b.constructor=I,n(r,g,I)}},ac1f:function(e,t,s){"use strict";var a=s("23e7"),r=s("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,s){"use strict";var a=s("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,s){"use strict";s("ac1f");var a=s("6eeb"),r=s("d039"),i=s("b622"),n=s("9263"),o=s("9112"),d=i("species"),l=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),m=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),f=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var s="ab".split(e);return 2!==s.length||"a"!==s[0]||"b"!==s[1]}));e.exports=function(e,t,s,u){var p=i(e),h=!r((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=h&&!r((function(){var t=!1,s=/a/;return"split"===e&&(s={},s.constructor={},s.constructor[d]=function(){return s},s.flags="",s[p]=/./[p]),s.exec=function(){return t=!0,null},s[p](""),!t}));if(!h||!v||"replace"===e&&(!l||!c||m)||"split"===e&&!f){var g=/./[p],_=s(p,""[e],(function(e,t,s,a,r){return t.exec===n?h&&!r?{done:!0,value:g.call(t,s,a)}:{done:!0,value:e.call(s,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),b=_[0],y=_[1];a(String.prototype,e,b),a(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}u&&o(RegExp.prototype[p],"sham",!0)}}}]);
//# sourceMappingURL=signup.ef2526a7.js.map