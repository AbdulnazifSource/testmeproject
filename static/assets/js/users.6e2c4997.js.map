{"version":3,"sources":["webpack:///./src/views/users.vue?aea9","webpack:///src/views/users.vue","webpack:///./src/views/users.vue?4820","webpack:///./src/views/users.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","showLoading","on","$event","_v","_s","loadingMessage","staticClass","directives","name","rawName","value","expression","selectionToggle","selectState","selectAllRows","_e","deselectAllRows","deleteSelectedRows","userTable","getSelectedData","length","group_id","staticRenderFns","component"],"mappings":"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","file":"assets/js/users.6e2c4997.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('md-snackbar',{attrs:{\"md-active\":_vm.showLoading},on:{\"update:mdActive\":function($event){_vm.showLoading=$event},\"update:md-active\":function($event){_vm.showLoading=$event}}},[_vm._v(\" \"+_vm._s(_vm.loadingMessage)+\" \")]),_c('md-card',{staticClass:\"md-elevation-5\"},[_c('md-card-header',[_c('md-toolbar',{staticClass:\"md-primary\"},[_c('div',{staticClass:\"md-title\"},[_vm._v(\"Group Users\")])])],1),_c('md-card-content',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.listUserView),expression:\"listUserView\"}]},[_c('md-button',{staticClass:\"md-raised md-dense md-primary\",on:{\"click\":_vm.selectionToggle}},[_vm._v(_vm._s(_vm.selectState))]),(_vm.selectable)?_c('md-button',{staticClass:\"md-raised md-dense md-primary\",on:{\"click\":_vm.selectAllRows}},[_vm._v(\"select all\")]):_vm._e(),(_vm.selectable)?_c('md-button',{staticClass:\"md-raised md-dense md-primary\",on:{\"click\":_vm.deselectAllRows}},[_vm._v(\"deselect all\")]):_vm._e(),(_vm.selectable)?_c('md-button',{staticClass:\"md-raised md-dense md-primary\",on:{\"click\":_vm.deleteSelectedRows}},[_vm._v(\" delete (\"+_vm._s(_vm.userTable? _vm.userTable.getSelectedData().length: \"0\")+\")\")]):_vm._e(),(_vm.selectable)?_c('md-button',{staticClass:\"md-dense\"},[_vm._v(\" selected (\"+_vm._s(_vm.userTable? _vm.userTable.getSelectedData().length: \"0\")+\")\")]):_vm._e(),_c('div',{attrs:{\"id\":\"user-table\"}})],1)]),_c('md-card-actions',[_c('md-button',{staticClass:\"md-raised md-accent\",attrs:{\"to\":'/users/group/'+ _vm.group_id +'/add_user'}},[_vm._v(\"Add User\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-console */\r\n\r\n<template>\r\n   <div>\r\n      <md-snackbar :md-active.sync=\"showLoading\"> {{loadingMessage}} </md-snackbar>\r\n      <md-card class=\"md-elevation-5\">\r\n         <md-card-header>\r\n            <!--group title bar-->\r\n            <md-toolbar class=\"md-primary\">\r\n               <div class=\"md-title\">Group Users</div>\r\n            </md-toolbar>\r\n         </md-card-header>\r\n         <md-card-content>\r\n            <div v-show=\"listUserView\">\r\n               <!--table actions-->\r\n               <md-button @click=\"selectionToggle\" \r\n                  class=\"md-raised md-dense md-primary\">{{selectState}}</md-button>\r\n               <md-button v-if=\"selectable\" @click=\"selectAllRows\" \r\n                  class=\"md-raised md-dense md-primary\">select all</md-button>\r\n               <md-button v-if=\"selectable\" @click=\"deselectAllRows\" \r\n                  class=\"md-raised md-dense md-primary\">deselect all</md-button>\r\n               <md-button v-if=\"selectable\" @click=\"deleteSelectedRows\" class=\"md-raised md-dense md-primary\">\r\n                  delete ({{userTable? userTable.getSelectedData().length: \"0\"}})</md-button>\r\n               <md-button v-if=\"selectable\" class=\"md-dense\">\r\n                  selected ({{userTable? userTable.getSelectedData().length: \"0\"}})</md-button>\r\n               <!--table layout container-->\r\n               <div id=\"user-table\" class=\"\" style=\"\"></div>\r\n            </div>\r\n         </md-card-content>\r\n         <md-card-actions>\r\n            <md-button\r\n               class=\"md-raised md-accent\"\r\n               :to=\"'/users/group/'+ group_id +'/add_user'\"\r\n            >Add User</md-button>\r\n         </md-card-actions>\r\n      </md-card>\r\n   </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from \"vuex\";\r\n//import {mapState} from \"vuex\";\r\nconst tabulator = () => import(/* webpackChunkName: \"tabulator\" */\"tabulator-tables\")\r\n//import Tabulator from \"tabulator-tables\";\r\n\r\nexport default {\r\n   data(){\r\n      return {\r\n         pageData: {\r\n            pageTitle: 'Users',\r\n            showAppDrawer: false,\r\n         },\r\n         Tabulator: null,\r\n         myUsers: null,\r\n         userTable: null,\r\n         listUserView: false,\r\n         selectable: false,\r\n         selectState: 'select',\r\n            \r\n      };\r\n   },\r\n   props: ['group_id'],\r\n   methods: {\r\n      getMyGroupUser () {\r\n         this.$http({url: 'testapi/1/mygroup/' + this.group_id + '/user/', method: 'GET' })\r\n         .then(resp => {\r\n            //console.log(resp)\r\n            this.myUsers = resp.data\r\n            this.setupTabulator()\r\n            this.listUserView = true\r\n         })\r\n         .catch(err => {\r\n            //console.log(err.response.data);\r\n            this.loadingMessage = \"No group user found\"\r\n            this.showLoading = true\r\n         })\r\n      },\r\n      removeGroupUser (row) {\r\n         const data = row.getData()\r\n         this.loadingMessage = \"Removing group user...\"\r\n         this.showLoading = true\r\n         this.$http({url: \"testapi/1/mygroup/\"+ this.group_id +\"/user/\" + data.id + \"/\", method: 'DELETE' })\r\n         .then(resp => {\r\n            //console.log(resp)\r\n            row.delete()\r\n            this.loadingMessage = \"Group user removed\"\r\n            this.showLoading = true\r\n         })\r\n         .catch(err => {\r\n            //console.log(err);\r\n            this.loadingMessage = \"Failed to remove group\"\r\n            this.showLoading = true\r\n         })\r\n      },\r\n      selectionToggle: function () {\r\n         if(!this.selectable) {\r\n            this.selectable = true\r\n            this.userTable.showColumn(\"rowSelection\")\r\n            this.selectState = \"cancel\"\r\n         } else {\r\n            this.selectable = false\r\n            this.userTable.deselectRow()\r\n            this.userTable.hideColumn(\"rowSelection\")\r\n            this.selectState = \"select\"\r\n         }\r\n         \r\n      },\r\n      selectAllRows: function () {\r\n         this.userTable.selectRow()\r\n      },\r\n      deselectAllRows: function () {\r\n         this.userTable.deselectRow()\r\n      },\r\n      deleteSelectedRows: function () {\r\n         let rows = this.userTable.getSelectedRows()\r\n         if(rows)\r\n            for(let x = 0; x < rows.length; x++)\r\n               this.removeGroupUser(rows[x])\r\n      },\r\n      setupTabulator: function () {\r\n         if(this.Tabulator && this.userTable === null) {\r\n            this.userTable = new this.Tabulator(\"#user-table\", {\r\n               data: this.myUsers,\r\n               reactiveData: true,\r\n               layout: 'fitColumns',\r\n               selectableRollingSelection: false,\r\n               selectablePersistence: false,\r\n               addRowPos: \"bottom\",\r\n               pagination:\"local\",\r\n               paginationSize:10,\r\n               paginationSizeSelector:[10, 20, 50, 100],\r\n               paginationAddRow: \"table\",\r\n               rowClick: function (e, row) {\r\n                  row.toggleSelect()\r\n               }.bind(this),\r\n               selectableCheck: function () {\r\n                  return this.selectable \r\n               }.bind(this),\r\n               columns: [\r\n                  //('id', '',)\r\n                  //(\"user\", \"date_of_birth\", \"gender\", \"phone_number\", \"profile_pic\"\r\n                  {field: \"rowSelection\", formatter:\"rowSelection\", visible: false,\r\n                        titleFormatter:\"rowSelection\", hozAlign:\"center\", headerSort:false},\r\n                  {field: \"SNo.\", formatter:\"rownum\", title:\"SNo.\"},\r\n                  {title: \"Username\", field: \"username\"},\r\n                  {title: \"First name\", field: \"first_name\"},\r\n                  {title: \"Last name\", field: \"last_name\"},\r\n                  {title: \"Gender\", field: \"profile_user.gender\"},\r\n                  {title: \"Email\", field: \"email\"},\r\n               ],\r\n            });\r\n         }\r\n      }\r\n   },\r\n   computed: { \r\n      ...mapGetters([\"getPageTitle\"]),\r\n      ...mapGetters([\"userDetail\"]),\r\n      ...mapGetters([\"pageTitle\"]),\r\n   },\r\n   mounted: function() {\r\n      tabulator()\r\n      .then(({default: Tabulator})=>{\r\n         this.Tabulator = Tabulator\r\n         this.getMyGroupUser()\r\n      })\r\n      this.$store.commit('setPageData', this.pageData)\r\n      \r\n   },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./users.vue?vue&type=template&id=4513bd13&\"\nimport script from \"./users.vue?vue&type=script&lang=js&\"\nexport * from \"./users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}